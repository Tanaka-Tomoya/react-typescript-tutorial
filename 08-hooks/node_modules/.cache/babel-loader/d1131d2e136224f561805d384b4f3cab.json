{"ast":null,"code":"import _slicedToArray from \"/Users/tomoyatanaka/projects/react-typescript-tutorial/08-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tomoyatanaka/projects/react-typescript-tutorial/08-hooks/src/containers/App.tsx\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport AppComponent from '../components/App';\n\nvar useTimer = function useTimer(limitSec) {\n  var _useState = useState(limitSec),\n      _useState2 = _slicedToArray(_useState, 2),\n      timeLeft = _useState2[0],\n      setTimeLeft = _useState2[1];\n\n  var reset = function reset() {\n    setTimeLeft(limitSec);\n  };\n\n  var tick = function tick() {\n    setTimeLeft(function (prevTime) {\n      return prevTime === 0 ? limitSec : prevTime - 1;\n    });\n  };\n\n  useEffect(function () {\n    var timerId = setInterval(tick, 1000);\n    console.log(timerId);\n    return function () {\n      return clearInterval(timerId);\n    };\n  }, []);\n  return [timeLeft, reset];\n};\n\nvar AppContainer = function AppContainer() {\n  var LIMIT = 60;\n\n  var _useTimer = useTimer(LIMIT),\n      _useTimer2 = _slicedToArray(_useTimer, 2),\n      timeLeft = _useTimer2[0],\n      reset = _useTimer2[1];\n\n  var prevCountRef = useRef(0);\n  useEffect(function () {\n    prevCountRef.current = timeLeft;\n  }, [timeLeft]);\n  return React.createElement(AppComponent, {\n    timeLeft: timeLeft,\n    reset: reset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  });\n};\n\nexport default AppContainer;","map":{"version":3,"sources":["/Users/tomoyatanaka/projects/react-typescript-tutorial/08-hooks/src/containers/App.tsx"],"names":["React","useEffect","useState","useRef","AppComponent","useTimer","limitSec","timeLeft","setTimeLeft","reset","tick","prevTime","timerId","setInterval","console","log","clearInterval","AppContainer","LIMIT","prevCountRef","current"],"mappings":";;AAAA,OAAOA,KAAP,IAAoBC,SAApB,EAA+BC,QAA/B,EAAyCC,MAAzC,QAAuD,OAAvD;AAEA,OAAOC,YAAP,MAAyB,mBAAzB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAA4C;AAAA,kBAC3BJ,QAAQ,CAACI,QAAD,CADmB;AAAA;AAAA,MACpDC,QADoD;AAAA,MAC1CC,WAD0C;;AAG3D,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClBD,IAAAA,WAAW,CAACF,QAAD,CAAX;AACD,GAFD;;AAIA,MAAMI,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBF,IAAAA,WAAW,CAAC,UAAAG,QAAQ;AAAA,aAAKA,QAAQ,KAAK,CAAb,GAAiBL,QAAjB,GAA4BK,QAAQ,GAAG,CAA5C;AAAA,KAAT,CAAX;AACD,GAFD;;AAIAV,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMW,OAAO,GAAGC,WAAW,CAACH,IAAD,EAAO,IAAP,CAA3B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,WAAO;AAAA,aAAMI,aAAa,CAACJ,OAAD,CAAnB;AAAA,KAAP;AACD,GAJQ,EAIN,EAJM,CAAT;AAOA,SAAO,CAACL,QAAD,EAAWE,KAAX,CAAP;AACD,CAnBD;;AAqBA,IAAMQ,YAAgB,GAAG,SAAnBA,YAAmB,GAAM;AAC7B,MAAMC,KAAK,GAAG,EAAd;;AAD6B,kBAEHb,QAAQ,CAACa,KAAD,CAFL;AAAA;AAAA,MAEtBX,QAFsB;AAAA,MAEZE,KAFY;;AAG7B,MAAMU,YAAY,GAAGhB,MAAM,CAAC,CAAD,CAA3B;AACAF,EAAAA,SAAS,CAAC,YAAM;AACdkB,IAAAA,YAAY,CAACC,OAAb,GAAuBb,QAAvB;AACD,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAIA,SAAO,oBAAC,YAAD;AAAc,IAAA,QAAQ,EAAEA,QAAxB;AAAkC,IAAA,KAAK,EAAEE,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CATD;;AAWA,eAAeQ,YAAf","sourcesContent":["import React, { FC, useEffect, useState, useRef } from 'react';\n\nimport AppComponent from '../components/App';\n\nconst useTimer = (limitSec: number): [number, () => void] => {\n  const [timeLeft, setTimeLeft] = useState(limitSec);\n\n  const reset = () => {\n    setTimeLeft(limitSec)\n  };\n\n  const tick = () => {\n    setTimeLeft(prevTime => (prevTime === 0 ? limitSec : prevTime - 1))\n  }\n\n  useEffect(() => {\n    const timerId = setInterval(tick, 1000);\n    console.log(timerId)\n    return () => clearInterval(timerId);\n  }, [])\n\n\n  return [timeLeft, reset];\n}\n\nconst AppContainer: FC = () => {\n  const LIMIT = 60;\n  const [timeLeft, reset] = useTimer(LIMIT)\n  const prevCountRef = useRef(0)\n  useEffect(() => {\n    prevCountRef.current = timeLeft\n  }, [timeLeft])\n\n  return <AppComponent timeLeft={timeLeft} reset={reset} />\n}\n\nexport default AppContainer;"]},"metadata":{},"sourceType":"module"}