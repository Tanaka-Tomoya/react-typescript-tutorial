{"ast":null,"code":"import _slicedToArray from \"/Users/tomoyatanaka/projects/react-typescript-tutorial/08-hooks/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/tomoyatanaka/projects/react-typescript-tutorial/08-hooks/src/containers/App.tsx\";\nimport React, { useEffect, useState, useRef } from 'react';\nimport AppComponent from '../components/App';\n\nvar useTimer = function useTimer(limitSec) {\n  var _useState = useState(limitSec),\n      _useState2 = _slicedToArray(_useState, 2),\n      timeLeft = _useState2[0],\n      setTimeLeft = _useState2[1];\n\n  var reset = function reset() {\n    setTimeLeft(limitSec);\n  };\n\n  var tick = function tick() {\n    setTimeLeft(function (prevTime) {\n      return prevTime === 0 ? limitSec : prevTime - 1;\n    });\n  };\n\n  var prevCountRef = useRef(0);\n  useEffect(function () {\n    prevCountRef.current = timeLeft;\n  }, [timeLeft]);\n  useEffect(function () {\n    var timerId = setInterval(tick, 1000);\n    console.log(timerId);\n    return function () {\n      return clearInterval(timerId);\n    };\n  }, []);\n  return [timeLeft, reset];\n};\n\nvar AppContainer = function AppContainer() {\n  var LIMIT = 60;\n\n  var _useTimer = useTimer(LIMIT),\n      _useTimer2 = _slicedToArray(_useTimer, 2),\n      timeLeft = _useTimer2[0],\n      reset = _useTimer2[1];\n\n  return React.createElement(AppComponent, {\n    timeLeft: timeLeft,\n    reset: reset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  });\n};\n\nexport default AppContainer;","map":{"version":3,"sources":["/Users/tomoyatanaka/projects/react-typescript-tutorial/08-hooks/src/containers/App.tsx"],"names":["React","useEffect","useState","useRef","AppComponent","useTimer","limitSec","timeLeft","setTimeLeft","reset","tick","prevTime","prevCountRef","current","timerId","setInterval","console","log","clearInterval","AppContainer","LIMIT"],"mappings":";;AAAA,OAAOA,KAAP,IAAoBC,SAApB,EAA+BC,QAA/B,EAAyCC,MAAzC,QAAuD,OAAvD;AAEA,OAAOC,YAAP,MAAyB,mBAAzB;;AAEA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACC,QAAD,EAA4C;AAAA,kBAC3BJ,QAAQ,CAACI,QAAD,CADmB;AAAA;AAAA,MACpDC,QADoD;AAAA,MAC1CC,WAD0C;;AAG3D,MAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClBD,IAAAA,WAAW,CAACF,QAAD,CAAX;AACD,GAFD;;AAIA,MAAMI,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBF,IAAAA,WAAW,CAAC,UAAAG,QAAQ;AAAA,aAAKA,QAAQ,KAAK,CAAb,GAAiBL,QAAjB,GAA4BK,QAAQ,GAAG,CAA5C;AAAA,KAAT,CAAX;AACD,GAFD;;AAIA,MAAMC,YAAY,GAAGT,MAAM,CAAC,CAAD,CAA3B;AAEAF,EAAAA,SAAS,CAAC,YAAM;AACdW,IAAAA,YAAY,CAACC,OAAb,GAAuBN,QAAvB;AACD,GAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;AAGAN,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAMa,OAAO,GAAGC,WAAW,CAACL,IAAD,EAAO,IAAP,CAA3B;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYH,OAAZ;AACA,WAAO;AAAA,aAAMI,aAAa,CAACJ,OAAD,CAAnB;AAAA,KAAP;AACD,GALQ,EAKN,EALM,CAAT;AAQA,SAAO,CAACP,QAAD,EAAWE,KAAX,CAAP;AACD,CAzBD;;AA2BA,IAAMU,YAAgB,GAAG,SAAnBA,YAAmB,GAAM;AAC7B,MAAMC,KAAK,GAAG,EAAd;;AAD6B,kBAEHf,QAAQ,CAACe,KAAD,CAFL;AAAA;AAAA,MAEtBb,QAFsB;AAAA,MAEZE,KAFY;;AAI7B,SAAO,oBAAC,YAAD;AAAc,IAAA,QAAQ,EAAEF,QAAxB;AAAkC,IAAA,KAAK,EAAEE,KAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAP;AACD,CALD;;AAOA,eAAeU,YAAf","sourcesContent":["import React, { FC, useEffect, useState, useRef } from 'react';\n\nimport AppComponent from '../components/App';\n\nconst useTimer = (limitSec: number): [number, () => void] => {\n  const [timeLeft, setTimeLeft] = useState(limitSec);\n\n  const reset = () => {\n    setTimeLeft(limitSec)\n  };\n\n  const tick = () => {\n    setTimeLeft(prevTime => (prevTime === 0 ? limitSec : prevTime - 1))\n  }\n\n  const prevCountRef = useRef(0)\n\n  useEffect(() => {\n    prevCountRef.current = timeLeft\n  }, [timeLeft])\n  useEffect(() => {\n\n    const timerId = setInterval(tick, 1000);\n    console.log(timerId)\n    return () => clearInterval(timerId);\n  }, [])\n\n\n  return [timeLeft, reset];\n}\n\nconst AppContainer: FC = () => {\n  const LIMIT = 60;\n  const [timeLeft, reset] = useTimer(LIMIT)\n\n  return <AppComponent timeLeft={timeLeft} reset={reset} />\n}\n\nexport default AppContainer;"]},"metadata":{},"sourceType":"module"}